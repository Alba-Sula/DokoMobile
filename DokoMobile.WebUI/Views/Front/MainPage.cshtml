@model DokoMobile.WebUI.ViewModels.MainPgViewModel
@{
    ViewBag.Title = "MainPage";
}
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
<main class="main-padding position-relative">
    <h2>Doko Mobile</h2>

    @* the carusel objects *@

    <section class="carousel-container">
        <section class="carousel-design">
            <div class="carousel-items"><span class="product-name-carousel"></span><span class="product-price-carousel"></span></div>
            <div class="carousel-items"><span class="product-name-carousel"></span><span class="product-price-carousel"></span></div>
            @if (Model.OfferImgs.Any())
            {
                foreach (var item in Model.OfferImgs)
                {
                    <div class="carousel-items">
                        <span class="product-name-carousel">@item.BrandAndName</span>
                        <span class="product-price-carousel">@item.Price $</span>
                        <img src=@item.ImgPath />
                    </div>

                }
            }
            <div class="carousel-items"><span class="product-name-carousel"></span><span class="product-price-carousel"></span></div>
            <div class="carousel-items"><span class="product-name-carousel"></span><span class="product-price-carousel"></span></div>
        </section>
    </section>
    <span id="prev">prev</span>
    <span id="next">></span>
</main>
<section class="categories main-padding">
    <h2 class="text-center">Cfare ne ofrojme</h2>
    <div class="categories-design">
        <a href="@Url.Action("Smartphone","Front")">
            <img src="~/StaticImages/mobile-phone.svg" />
            <span>Smartphone</span>
        </a>
        <a href="@Url.Action("Accessories","Front")">
            <img src="~/StaticImages/earbuds.svg" />
            <span>Accesories</span>
        </a>
        <a href="@Url.Action("Gaming","Front")">
            <img src="~/StaticImages/game-controller.svg" />
            <span>Gaming</span>
        </a>
        <a href="@Url.Action("Services","Front")">
            <img src="~/StaticImages/tools.svg" />
            <span>Service</span>
        </a>
    </div>
</section>


<div class="row align-items-center" style="margin-left:250px">
    @foreach (var item in Model.Products)
    {
        <div class="col-md-3">

            <p>Name: @item.Name</p>
            <p>Brand: @item.Brands.BrandName</p>
            <p>Price: @item.Price</p>
            <img src=@item.ImgPath1 width="100" height="100" />
            <p>Discount: @item.HasDiscount</p>
            @using (Html.BeginForm("AddToCart", "Cart", new { area = "Buy" }))
            {
                @Html.Hidden("productId", item.ProductId)
                @Html.Hidden("returnUrl", Request.Url.PathAndQuery)
                <input type="submit" class="btn btn-primary" value="Add to cart" />
            }
        </div>
    }

</div>
<tr>
    <td colspan="9">
        @{
            int PrevPageNo = ViewBag.PageNo - 1;
            if (PrevPageNo <= 0)
            {
                PrevPageNo = 1;
            }

            int NextPageNo = ViewBag.PageNo + 1;
            if (NextPageNo > ViewBag.NoOfPages)
            {
                NextPageNo = ViewBag.NoOfPages;
            }
        }
        <ul class="pagination justify-content-center">
            <li class="page-item">
                <a class="page-link" href="/Front/MainPage?PageNo=@PrevPageNo">Prev</a>
            </li>
            @for (int i = 0; i < ViewBag.NoOfPages; i++)
            {
                if ((i + 1) == ViewBag.PageNo)
                {
                    <li class="page-item active">
                        <a class="page-link" href="/Front/MainPage?PageNo=@(i + 1)">@( i + 1)</a>
                    </li>
                }
                else
                {
                    <li class="page-item">
                        <a class="page-link" href="/Front/MainPage?PageNo=@(i + 1)">@( i + 1)</a>
                    </li>
                }
            }
            <li class="page-item">
                <a class="page-link" href="/Front/MainPage?PageNo=@NextPageNo">Next</a>
            </li>
        </ul>
    </td>
</tr>

<script src="~/Scripts/carousel.js"></script>



